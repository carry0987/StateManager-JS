!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?s(exports):"function"==typeof define&&define.amd?define(["exports"],s):s((t="undefined"!=typeof globalThis?globalThis:t||self).stateManager={})}(this,(function(t){"use strict";t.StateManager=class{state;listeners=[];isDispatching=!1;constructor(t){this.state=t}getState=()=>this.state;getListeners=()=>this.listeners;dispatch=t=>{if("function"!=typeof t)throw new Error("Reducer is not a function");if(this.isDispatching)throw new Error("Reducers may not dispatch actions");this.isDispatching=!0;const s=this.state;try{this.state=t(this.state)}finally{this.isDispatching=!1}for(const t of this.listeners)t(this.state,s);return this.state};subscribe=t=>{if("function"!=typeof t)throw new Error("Listener is not a function");return this.listeners=[...this.listeners,t],()=>this.listeners=this.listeners.filter((s=>s!==t))}},t.version="1.0.0"}));
